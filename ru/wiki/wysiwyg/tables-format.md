---
title: "Как работать с таблицами и оглавлениями в {{ wiki-full-name }}"
description: "Из статьи вы узнаете, как работать с таблицами и оглавлениями в {{ wiki-name }}."
---

# Таблицы и оглавления

{% include [old-editor-warning](../../_includes/wiki/wysiwyg-old-editor.md) %}

## Статическая таблица {#tables-wysiwyg}

{% list tabs %}

- Новый редактор

    Чтобы добавить таблицу, на панели инструментов нажмите ![](../../_assets/wiki/svg/wysiwyg/table.svg) и заполните ячейки. Текст в ячейках таблицы можно форматировать.
  
    Чтобы редактировать таблицу, выберите ячейку и используйте динамические кнопки.

- Старый редактор

    [Простые таблицы](../static-markup/grids.md) — это статические таблицы, которые оформляются вручную с помощью разметки {{ wiki-name }} или Markdown.
    
    Чтобы разместить таблицу в тексте, используйте разметку:
    
    ```
    | Заголовок 1 | Заголовок 2 | Заголовок 3 |
    | --- | --- | --- |
    | ячейка 11 | ячейка 12 | ячейка 13 |
    | ячейка 21 | ячейка 22 | ячейка 23 |
    ```
    
    {% cut "Как выглядит результат" %}
    
    ![](../../_assets/wiki/table-with-border.png)
    
    {% endcut %}

{% endlist %}
  
## Динамическая таблица {#grid}

{% list tabs %}

- Новый редактор
  
    Чтобы добавить на страницу динамическую таблицу, нажмите на панели задач ![](../../_assets/wiki/svg/wysiwyg/grid.svg) → ![](../../_assets/wiki/svg/wysiwyg/grid.svg) **Динамическая таблица**.
  
    О работе с динамическими таблицами см. в разделе [Динамические таблицы](../edit-grid-wysiwyg.md).

- Старый редактор

    [Динамическая таблица](../pages-types.md#grid) — таблица с возможностью задать тип данных столбца, отсортировать значения или сделать ячейку обязательной для заполнения. Вы можете использовать таблицу напрямую или [встроить ее в страницу](#section-integrate-table).


        ### Как создать и разместить таблицу на странице, созданной в старом редакторе {#section-add-table-button}

    Чтобы создать таблицу и разместить ее в тексте страницы:

    1. На панели в верхней части страницы нажмите значок ![](../../_assets/wiki/add-dynamic-grid.png). В тексте появится [код таблицы](../actions/grid-reference.md): 
        
        ```
        {{grid page="{{ wiki-pagename }}/grid-2021-01-24t163048" width="100%"}}
        ```

        Созданная таблица станет подразделом текущей страницы.

    1. Нажмите **{{ ui-key.beta-wiki.blocks_common_newgrid.blocks_b-grid-table-settings.save }}**.

    1. [Заполните таблицу](../edit-grid-wysiwyg.md).

    ### Как встроить существующую таблицу {#section-integrate-table}

    Чтобы встроить динамическую таблицу в страницу:

    1. Откройте таблицу и в правом верхнем углу нажмите ![](../../_assets/wiki/svg/new-settings.svg) **{{ ui-key.yacloud.common.table-config }}**.

    1. Выберите **</> Копировать код вставки**.

    1. Настройте параметры для вставки таблицы.

    1. Скопируйте код таблицы и вставьте в текст страницы.

    ### Как фильтровать строки и столбцы таблицы {#filter}

    Вы можете вставить динамическую таблицу на страницу, созданную в старом редакторе так, чтобы отображались только заданные столбцы или строки таблицы, которые соответствуют определенным условиям. Для этого:

    1. Получите код для вставки таблицы и разместите его в тексте страницы.

    1. Чтобы выбрать столбцы таблицы, которые будут отображаться на странице, добавьте к коду таблицы параметр `columns`. Подробнее об использовании этого параметра читайте в разделе [{#T}](../actions/grid-reference.md#col-filter).

    1. Чтобы задать условия для отображения строк таблицы в зависимости от значений в заданных ячейках, добавьте к коду таблицы параметр `filters`. Подробнее об использовании этого параметра читайте в разделе [{#T}](../actions/grid-reference.md#row-filter).

    ### Как перейти к источнику встроенной таблицы {#go-to-source}

    Чтобы открыть оригинал таблицы, встроенной в страницу:

    
    1. Внизу таблицы нажмите значок ![](../../_assets/wiki/table-settings-footer.png).


    1. Выберите **{{ ui-key.beta-wiki.blocks_common_newgrid.blocks_b-grid-table-options.parent_table }}**.   
   
{% endlist %}
  
## Содержание (оглавление) страницы {#toc}

{% list tabs %}

- Новый редактор

    Чтобы добавить на страницу содержание этой или любой другой страницы {{ wiki-name }}, которая создана в старом или новом редакторе:

    1. Нажмите `/` и во всплывающем окне выберите ![](../../_assets/wiki/svg/wysiwyg/toc.svg) **Содержание страницы**.
    1. Укажите адрес страницы, содержание которой хотите оформить. Например, `homepage/hello-page`. Если не указать никакого адреса, то будет создано содержание   текущей страницы.
    1. В полях **От** и **До** укажите максимальный и минимальный уровень заголовков, которые будут включены в содержание. Вы можете оставить значение `—`. В таком случае:
    - Для поля **От** будет взято значение h1.
    - Для поля **До** будет взято значение h8.
    1. Нажмите **Сохранить**.

    Чтобы изменить уже созданное содержание страницы, в режиме редактирования в правом верхнем углу содержания нажмите ![](../../_assets/wiki/svg/actions-icon.svg) → **Редактировать**.
  
- Старый редактор

    [Страницы {{ wiki-name }}](../pages-types.md#page), созданные в старом редакторе, могут автоматически формировать оглавление на основе заголовков. Для этого используется динамический блок `toc`.

    ### Добавить оглавление для страницы {#single-page}

    1. Убедитесь, что ваша страница создана в [старом редакторе](../create-page.md).
    1. Убедитесь, что заголовки страницы [правильно размечены](../static-markup.md#markup). Для быстрого просмотра оглавления страницы на панели справа нажмите значок ![](../../_assets/wiki/ico-toc.png).
        Если на странице есть совпадающие заголовки, ссылки в оглавлении могут работать некорректно.

    1. Создайте оглавление с помощью динамического блока:
        
        ```text
        not_var{{toc}}
        ```

    По умолчанию в оглавление будут попадать все заголовки страницы {{ wiki-name }}. Вы можете настроить вывод оглавления с помощью [дополнительных параметров](#toc-params).

    > Пример оглавления, в которое включены заголовки от первого (`h1`) до третьего (`h3`) уровня.
    > 
    > ```text
    > {{toc from="h1" to="h3"}}
    > ```

    #### Параметры блока (необязательные) {#toc-params}

    Параметр | Описание
    --- | ---
    `from` | Самый высокий уровень заголовков, начиная с которого они включаются в оглавление.
    `to` | Самый низкий уровень заголовков, заканчивая которым они включаются в оглавление.
    `page`| Относительный адрес страницы, по заголовкам которой будет построено оглавление. Например: `userName/pageName/`. По умолчанию это адрес страницы, на которую добавлен блок `toc`.

    ### Добавить оглавление для группы страниц {#group-pages}

    Добавить оглавление можно двумя способами:

    1. С помощью [инструкции](../actions/page-lists.md).

    1. C помощью ссылок:

        {% list tabs %}

        - {{ wiki-name }}

          ```text
          ((<ссылка> <название_страницы>))
          ```

        - Markdown

          ```text
          [<название_страницы>](<ссылка>)
          ```

        {% endlist %}  
    
{% endlist %}

## Структура раздела {#tree}

{% list tabs %}

- Новый редактор
  
    Чтобы добавить на страницу оглавление любого раздела, который состоит из нескольких вложенных друг в друга страниц {{ wiki-name }}:
  
    1. Нажмите `/` и во всплывающем окне выберите ![](../../_assets/wiki/svg/wysiwyg/tree.svg) **Структура раздела**.
    1. Укажите адрес страницы, для которой хотите оформить структуру вложенных страниц. Например, `homepage/hello-page`. Если не указать никакого адреса, то будет создано оглавление для вложенных страниц текущей страницы.
    1. В поле **Глубина** укажите максимальный уровень вложенности, после которого страницы не будут указаны в оглавлении.
    1. Нажмите **Сохранить**.
  
    Чтобы изменить уже созданную структуру раздела, в режиме редактирования в правом верхнем углу структуры нажмите ![](../../_assets/wiki/svg/actions-icon.svg) →   **Редактировать**.

- Старый редактор

    Вы можете вставить на [страницу](../pages-types.md#page) списки:

    * [{#T}](#tree)
    * [{#T}](#backlinks)
    * [{#T}](#mypages)

    ### Страницы раздела {#tree}

    Блок содержит список всех страниц заданного раздела.

    #### Вызов блока {#tree-call}

    ```
    {{tree for="адресСтраницы" nomark="0" depth="3" show_redirects="False" show_grids="True" show_files="False" show_owners="False" show_titles="True"  show_created_at="False" show_modified_at="False" sort_by="title" sort="asc"}}
    ```

    Все параметры блока `not_var{{tree}}` необязательные, в примере приведены значения параметров по умолчанию.

    #### Параметры блока (необязательные) {#tree-params}

    Параметр | Описание
    --- | ---
    `for` | Адрес страницы, для которой строится дерево. 
    `page` | Альтернативное имя (алиас) параметра `for`.
    `depth` | Глубина дерева. Если равна `0`, то глубина не ограничена.
    `show_grids` | Отображение динамических таблиц в дереве:<br>`true` — динамические таблицы включены в дерево;<br>`false` — динамические таблицы не отображаются в дереве.
    `show_files` | Отображение прикрепленных файлов в дереве:<br>`true` — файлы включены в дерево;<br>`false` — файлы не отображаются в дереве.
    `show_owners` | Отображение авторов страниц:<br>`true` — авторы отображаются;<br>`false` — авторы скрыты.
    `show_titles` | Отображение заголовков страниц:<br>`true` — заголовки отображаются;<br>`false` — заголовки скрыты. 
    `show_created_at` | Отображение дат создания страниц:<br>`true` — даты отображаются;<br>`false` — даты скрыты.
    `show_modified_at` | Отображение дат изменения страниц:<br>`true` — даты отображаются;<br>`false` — даты скрыты.
    `sort_by` | Сортировать страницы:<br>`title` — по заголовку;<br>`cluster` — по разделу;<br>`created_at` — по дате создания;<br>`modified_at` — по дате изменения.
    `sort` | Порядок сортировки:<br>`asc` — по возрастанию;<br>`desc` — по убыванию.

    ### Страницы, ссылающиеся на заданную {#backlinks}

    Блок содержит список всех страниц, на которых присутствуют ссылки на заданную страницу.

    #### Вызов блока {#backlink-call}

    ```
    {{backLinks for="адресСтраницы"}}
    ```

    #### Параметры блока (необязательные) {#baclink-params}

    Параметр | Описание
    --- | ---
    `for` | Содержит адрес страницы, для которой строится список. Если параметр не указан, список строится для текущей страницы.

    ### Страницы, для которых я автор {#mypages}

    Блок содержит список страниц, автором которых является пользователь.

    #### Вызов блока {#mypages-call}

    ```
    not_var{{mypages}}
    ```

    > Например, чтобы вывести список страниц пользователя `username` и отсортировать их по дате изменения, задайте блок:
    >
    > ```
    > {{mypages bychange=1 user="username"}}
    > ```

    Все параметры блока `not_var{{mypages}}` необязательные. По умолчанию в блоке выводится список страниц того пользователя, который его просматривает. Страницы выводятся в алфавитном порядке.

    #### Параметры блока (необязательные) {#mypages-params}

    Параметр | Описание
    --- | ---
    `user` | Вы можете вывести список страниц любого пользователя, указав в параметре `user` его логин.
    `bydate` | Сортировка по дате создания:<br>`1` — включить;<br>`0` — отключить.
    `bychange` | Сортировка по дате изменения:<br>`1` — включить;<br>`0` — отключить.

{% endlist %}